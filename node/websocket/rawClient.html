<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title></title>
    <script>
    let sock = new WebSocket('ws://localhost:8080/');

    sock.emit = (name, ...args) => {
        alert(JSON.stringify({ name, data: [...args] }));
        sock.send(JSON.stringify({ name, data: [...args] }))
    }

    //连上了
    sock.onopen = function() {
        alert('连接上了');
        sock.emit('msg', 12, 5);
    };

    //有数据
    sock.onmessage = function() {
        alert('有消息过来');
    };

    //断开了
    sock.onclose = function() {
        alert('断了');
    };
    </script>
</head>

<body>
</body>

</html>